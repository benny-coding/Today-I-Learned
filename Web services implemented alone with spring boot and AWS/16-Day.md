## 스프링 시큐리티와 OAuth 2.0으로 로그인 기능 구현하기
  ### 구글 로그인 연동하기
  - __registrationId__
    - 현재 로그인 진행 중인 서비스를 구분하는 코드입니다.
    - 지금은 구글만 사용하는 불필요한 값이지만, 이후 네이버 로그인 연동 시에 네이버 로그인인지,
      구글 로그인인지 구분하기 위해 사용합니다.
  - __userNameAttributeName__
    - OAuth2 로그인 진행 시 키가 되는 필드값을 이야기합니다. Primary Key와 같은 의미입니다.
    - 구글의 경우 기본적으로 코드를 지원하지만, 네이버 카카오 등은 기본 지원하지 않습니다.
      구글의 기본 코드는 "sub"입니다.
    - 이후 네이버 로그인과 구글 로그인을 동시 지원할 때 사용됩니다.
  - __OAuthAttributes__
    - OAuth2UserService를 통해 가져온 OAuth2User의 attribute를 담은 클래스입니다.
    - 이후 네이버 등 다른 소셜 로그인도 이 클래스를 사용합니다.
    - 바로 아래에서 이 클래스의 코드가 나오니 차례로 생성하시면 됩니다.
  - __SessionUser__
    - 세션에 사용자 정보를 저장하기 위한 Dto 클래스입니다.
    - __왜 User 클래스를 쓰지 않고 새로 만들어서 쓰는지__ 뒤이어서 상세하게 설명하겠습니다.
  - __of( )__
    - OAuth2User에서 반환하는 사용자 정보는 Map이기 때문에 값 하나하나를 변환해야만 합니다.
  - __toEntity()__
    - User 엔티티를 생성합니다.
    - OAuthAttributes에서 엔티티를 생성하는 시점은 처음 가입할 때입니다.
    - 가입할 때의 기본 권한을 GUEST로 주기 위해서 role 빌더 값에는 Role.GUEST를 사용합니다.
  - SessionUser에는 인증된 사용자 정보만 필요하다.
  - Entity 클래스에는 직렬화 구현을 하지 않는다. 자식 엔티티들까지 해당 직렬화 구현에 영향을 받아
    성능 이슈와 부수효과가 발생할 확률이 높기 때문이다. 그렇기 때무에 직렬화 기능을 가진 세션 Dto를
    하나 추가로 만드는 것이 이후 운영 및 유지보수 때 많은 도움이 된다.
  
  - __{{#userName}}__
    - 머스테치는 다른 언어와 같은 if문(if userName != null 등)을 제공하지 않습니다.
    - true/false 여부만 판단할 뿐입니다.
    - 그래서 머스테치에서는 항상 최종값을 넘겨줘야 합니다.
    - 여기서도 역시 userName이 있다면 userName을 노출시키도록 구성했습니다.
  - __a href="/logout"__
    - 스프링 시큐리티에서 기본적으로 제공하는 로그아웃 URL입니다.
    - 즉, 개발자가 별도로 저 URL에 해당하는 컨트롤러를 만들 필요가 없습니다.
    - SecurityConfig 클래스에서 URL을 변경할 순 있지만 기본 URL을 사용해도
      충분하니 여기서는 그대로 사용합니다.
  - __{{^userName}}__
    - 머스테치에서 해당 값이 존재하지 않는 경우에는 ^를 사용합니다.
    - 여기서는 userName이 없다면 로그인 버트능ㄹ 노출시키도록 구성했습니다.
  - __a href="/oauth2/authorization/google"__
    - 스프링 시큐리티에서 기본적으로 제공하는 로그인 URL입니다.
    - 로그아웃 URL과 마찬가지로 개발자가 별도의 컨트롤러를 생성할 필요가 없습니다.
      